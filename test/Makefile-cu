GA_DIR=/people/d3g293/tmp/ga-dev/build_cmake/install

CFLAGS= -I${GA_DIR}/include/ga

FCFLAGS= -L${GA_DIR}/lib -L${GA_DIR}/lib64 -lgfortran -lga -larmci -lblas -llapack -lrt -lm

CUDAFLAGS=-L/share/apps/cuda/10.2/lib64 -L/share/apps/cuda/10.2/lib -lcudart -std=c++11

MPIFLAGS= -I/share/apps/openmpi-gpu/4.1.0/gcc/8.3.0/include -L/share/apps/openmpi-gpu/4.1.0/gcc/8.3.0/lib -lmpi

cuda_test: cuda_test.cu
	nvcc -g cuda_test.cu -o cuda_test ${CFLAGS} ${FCFLAGS} ${MPIFLAGS} ${CUDAFLAGS}

clean:
	rm cuda_test
